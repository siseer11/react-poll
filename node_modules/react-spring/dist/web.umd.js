!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],e):e(t.ReactSpring={},t.React,t.ReactDOM)}(this,function(t,_,v){"use strict";function E(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}_=_&&_.hasOwnProperty("default")?_.default:_,v=v&&v.hasOwnProperty("default")?v.default:v;var e=void 0,i=void 0,S=[],w=function(t){return global.requestAnimationFrame(t)},r=function(t){return global.cancelAnimationFrame(t)},u=void 0,k=function(){return Date.now()},n=function(t,e){return i={fn:t,transform:e}},o=function(t){return S=t},a=function(t){return e=t},s=function(t){return u=t},l=Object.freeze({get bugfixes(){return e},get applyAnimatedValues(){return i},get colorNames(){return S},get requestFrame(){return w},get cancelFrame(){return r},get interpolation(){return u},get now(){return k},injectApplyAnimatedValues:n,injectColorNames:o,injectBugfixes:a,injectInterpolation:s,injectFrame:function(t,e){var n;return w=(n=[t,e])[0],r=n[1],n},injectNow:function(t){return k=t}}),c={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var f=function(t){return t},p=function(){function t(){}return t.create=function(t){if("function"==typeof t)return t;if(u&&t.output&&"string"==typeof t.output[0])return u(t);var n=t.output,r=t.range,i=t.easing||f,o="extend",a=t.map;void 0!==t.extrapolateLeft?o=t.extrapolateLeft:void 0!==t.extrapolate&&(o=t.extrapolate);var s="extend";return void 0!==t.extrapolateRight?s=t.extrapolateRight:void 0!==t.extrapolate&&(s=t.extrapolate),function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,r);return function(t,e,n,r,i,o,a,s,u){var l=u?u(t):t;if(l<e){if("identity"===a)return l;"clamp"===a&&(l=e)}if(n<l){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(e===n)return t<=e?r:i;e===-1/0?l=-l:n===1/0?l-=e:l=(l-e)/(n-e);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(t,r[e],r[e+1],n[e],n[e+1],i,o,s,a)}},t}();var d="[-+]?\\d*\\.?\\d+",h=d+"%";function m(){return"\\(\\s*("+Array.prototype.slice.call(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var g=new RegExp("rgb"+m(d,d,d)),y=new RegExp("rgba"+m(d,d,d,d)),b=new RegExp("hsl"+m(d,h,h)),x=new RegExp("hsla"+m(d,h,h,d)),A=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,P=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,V=/^#([0-9a-fA-F]{6})$/,C=/^#([0-9a-fA-F]{8})$/;function O(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function j(t,e,n){var r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=O(i,r,t+1/3),a=O(i,r,t),s=O(i,r,t-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function F(t){var e=parseInt(t,10);return e<0?0:255<e?255:e}function R(t){return(parseFloat(t)%360+360)%360/360}function D(t){var e=parseFloat(t);return e<0?0:1<e?255:Math.round(255*e)}function M(t){var e=parseFloat(t);return e<0?0:100<e?1:e/100}function I(t){var e,n,r="number"==typeof(e=t)?e>>>0===e&&0<=e&&e<=4294967295?e:null:(n=V.exec(e))?parseInt(n[1]+"ff",16)>>>0:c.hasOwnProperty(e)?c[e]:(n=g.exec(e))?(F(n[1])<<24|F(n[2])<<16|F(n[3])<<8|255)>>>0:(n=y.exec(e))?(F(n[1])<<24|F(n[2])<<16|F(n[3])<<8|D(n[4]))>>>0:(n=A.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=C.exec(e))?parseInt(n[1],16)>>>0:(n=P.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=b.exec(e))?(255|j(R(n[1]),M(n[2]),M(n[3])))>>>0:(n=x.exec(e))?(j(R(n[1]),M(n[2]),M(n[3]))|D(n[4]))>>>0:null;return null===r?t:"rgba("+((4278190080&(r=r||0))>>>24)+", "+((16711680&r)>>>16)+", "+((65280&r)>>>8)+", "+(255&r)/255+")"}var U=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,W=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,z=new RegExp("("+Object.keys(c).join("|")+")","g");function q(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var L=function(){function t(){}var e=t.prototype;return e.__attach=function(){},e.__detach=function(){},e.__getValue=function(){},e.__getAnimatedValue=function(){return this.__getValue()},e.__addChild=function(t){},e.__removeChild=function(t){},e.__getChildren=function(){return[]},t}(),N=function(f){function t(t,e,n,r,i){var o,a,s,u,l,c;return(o=f.call(this)||this).update=(a=function(){o._value.animate(new o._animationClass(T({},o._animationConfig,{to:o._animationConfig.to.__getValue()})),o._callback)},s=1e3/30,u=null,l=0,c=function(){return a(l=Date.now(),u=null)},function(){var t=Date.now(),e=s-(t-l);e<=0||s<e?(u&&(clearTimeout(u),u=null),a(l=t)):u||(u=setTimeout(c,e))}),o._value=t,o._parent=e,o._animationClass=n,o._animationConfig=r,o._callback=i,o.__attach(),o}q(t,f);var e=t.prototype;return e.__getValue=function(){return this._parent.__getValue()},e.__attach=function(){this._parent.__addChild(this)},e.__detach=function(){this._parent.__removeChild(this)},t}(L);var G=function(e){function t(){var t;return(t=e.call(this)||this)._children=[],t}q(t,e);var n=t.prototype;return n.__addChild=function(t){0===this._children.length&&this.__attach(),this._children.push(t)},n.__removeChild=function(t){var e=this._children.indexOf(t);-1!==e?(this._children.splice(e,1),0===this._children.length&&this.__detach()):"production"!==process.env.NODE_ENV&&console.warn("Trying to remove a child that doesn't exist")},n.__getChildren=function(){return this._children},t}(L),H=function(r){function e(t,e){var n;return(n=r.call(this)||this)._parents=t._values?t._values:Array.isArray(t)?t:[t],n._interpolation=p.create(e),n}q(e,r);var t=e.prototype;return t.__getValue=function(){return this._interpolation.apply(this,this._parents.map(function(t){return t.__getValue()}))},t.__attach=function(){for(var t=0;t<this._parents.length;++t)this._parents[t]instanceof L&&this._parents[t].__addChild(this)},t.__detach=function(){for(var t=0;t<this._parents.length;++t)this._parents[t]instanceof L&&this._parents[t].__removeChild(this)},t.__update=function(t){return this._interpolation=p.create(t),this},t.interpolate=function(t){return new e(this,t)},e}(G),$=0;var B=function(e){function t(t){var n;return(n=e.call(this)||this)._updateValue=function(t){for(var e in n._value=t,n._flush(),n._listeners)n._listeners[e]({value:t})},n._value=t,n._animation=null,n._animatedStyles=new Set,n._listeners={},n}q(t,e);var n=t.prototype;return n.__detach=function(){this.stopAnimation()},n.__getValue=function(){return this._value},n._update=function(){!function e(t,n){"function"==typeof t.update?n.add(t):t.__getChildren().forEach(function(t){return e(t,n)})}(this,this._animatedStyles)},n._flush=function(){0===this._animatedStyles.size&&this._update(),this._animatedStyles.forEach(function(t){return t.update()})},n.setValue=function(t){this._animation&&(this._animation.stop(),this._animation=null),this._animatedStyles.clear(),this._updateValue(t)},n.stopAnimation=function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&t(this.__getValue())},n.interpolate=function(t){return new H(this,t)},n.animate=function(t,e){var n=this,r=this._animation;this._animation&&this._animation.stop(),this._animation=t,this._animatedStyles.clear(),t.start(this._value,this._updateValue,function(t){n._animation=null,e&&e(t)},r)},n.addListener=function(t){var e=String($++);return this._listeners[e]=t,e},n.removeListener=function(t){delete this._listeners[t]},n.removeAllListeners=function(){this._listeners={}},n.stopTracking=function(){this._tracking&&this._tracking.__detach(),this._tracking=null},n.track=function(t){this.stopTracking(),this._tracking=t},t}(G);function K(t,e){for(var n in t)if(!(n in e))return!1;for(var r in e)if(t[r]!==e[r])return!1;return!0}function X(t,e,n){return"function"==typeof t?t(e,n):t}function Y(e){return Object.keys(e).map(function(t){return e[t]})}function J(t){t.to,t.from,t.config,t.native,t.onRest,t.onFrame,t.children,t.render,t.reset,t.force,t.immediate,t.impl,t.inject,t.delay,t.attach,t.destroyed;return E(t,["to","from","config","native","onRest","onFrame","children","render","reset","force","immediate","impl","inject","delay","attach","destroyed"])}function Q(t,e){var n=T({},e,J(t));return t.render?t.render(T({},n,{children:t.children})):t.children(n)}function Z(t,e){var n,r=e[0],i=e[1];return T({},t,((n={})[r]=new B(i),n))}function tt(t){var e=t.from,n=t.to,r=t.native,i=Object.entries(T({},e,n));return r?i.reduce(Z,{}):T({},e,n)}var et=function(t){return"auto"===t};var nt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","Ms","Moz","O"];nt=Object.keys(nt).reduce(function(r,i){return rt.forEach(function(t){return r[(e=t,n=i,e+n.charAt(0).toUpperCase()+n.substring(1))]=r[i];var e,n}),r},nt),s(function(n){var r=n.output.map(function(t){return t.replace(W,I)}).map(function(t){return t.replace(z,I)}),i=r[0].match(U).map(function(){return[]});r.forEach(function(t){t.match(U).forEach(function(t,e){return i[e].push(+t)})});var o=r[0].match(U).map(function(t,e){return p.create(T({},n,{output:i[e]}))});return/^rgb/.test(r[0]),function(t){var e=0;return r[0].replace(U,function(){return o[e++](t)}).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,function(t,e,n,r,i){return"rgba("+Math.round(e)+", "+Math.round(n)+", "+Math.round(r)+", "+i+")"})}}),o(c),a(function(p,d){var h=p.from,m=p.to;if(Y(m).some(et)||Y(h).some(et)){var t=Q(p,tt(p));if(t){var e=t.props.style;return _.createElement(t.type,T({},t.props,{style:T({},e,{position:"absolute",visibility:"hidden"}),ref:function(t){if(t){var e,n,r=v.findDOMNode(t),i=getComputedStyle(r);if("border-box"===i.boxSizing)e=r.offsetWidth,n=r.offsetHeight;else{var o=parseFloat(i.paddingLeft||0)+parseFloat(i.paddingRight||0),a=parseFloat(i.paddingTop||0)+parseFloat(i.paddingBottom||0),s=parseFloat(i.borderLeftWidth||0)+parseFloat(i.borderRightWidth||0),u=parseFloat(i.borderTopWidth||0)+parseFloat(i.borderBottomWidth||0);e=r.offsetWidth-o-s,n=r.offsetHeight-a-u}var l=(c=e,f=n,function(t,e){var n,r=e[0],i=e[1];return T({},t,((n={})[r]="auto"===i?~r.indexOf("height")?f:c:i,n))});d(T({},p,{from:Object.entries(h).reduce(l,h),to:Object.entries(m).reduce(l,m)}))}var c,f}}))}}}),n(function(t,e){if(!t.nodeType||void 0===t.setAttribute)return!1;var n,r,i,o=e.style,a=e.children,s=E(e,["style","children"]);for(var u in a&&(t.textContent=a),o)if(o.hasOwnProperty(u)){var l=0===u.indexOf("--"),c=(r=o[n=u],i=l,null==r||"boolean"==typeof r||""===r?"":i||"number"!=typeof r||0===r||nt.hasOwnProperty(n)&&nt[n]?(""+r).trim():r+"px");"float"===u&&(u="cssFloat"),l?t.style.setProperty(u,c):t.style[u]=c}for(var f in s)t.getAttribute(f)&&t.setAttribute(f,s[f])},function(t){return t});var it=function(){function t(){}var e=t.prototype;return e.start=function(t,e,n,r){},e.stop=function(){},e.__debouncedOnEnd=function(t){var e=this.__onEnd;this.__onEnd=null,e&&e(t)},t}(),ot=function(t,e){return null==t?e:t},at=function(a){function s(t){var b;(b=a.call(this)||this).startAsync=function(){if(b._lastTime=k(),"string"==typeof b._startPosition||"string"==typeof b._to)return b._onUpdate(b._to),b.__debouncedOnEnd({finished:!0});if(b.__previous instanceof s){var t=b.__previous.getInternalState();b._lastPosition=t.lastPosition,b._lastVelocity=t.lastVelocity,b._lastTime=t.lastTime}void 0!==b._initialVelocity&&null!==b._initialVelocity&&(b._lastVelocity=b._initialVelocity),b.onUpdate()},b.onUpdate=function(){var t=b._lastPosition,e=b._lastVelocity,n=b._lastPosition,r=b._lastVelocity,i=k();i>b._lastTime+64&&(i=b._lastTime+64);for(var o=Math.floor((i-b._lastTime)/1),a=0;a<o;++a){var s=.001,u=e,l=b._tension*(b._to-n)-b._friction*r;n=t+u*s/2;var c=r=e+l*s/2,f=b._tension*(b._to-n)-b._friction*r;n=t+c*s/2;var p=r=e+f*s/2,d=b._tension*(b._to-n)-b._friction*r;n=t+p*s/2;var h=r=e+d*s/2,m=b._tension*(b._to-n)-b._friction*r;n=t+p*s/2,r=e+d*s/2,t+=(u+2*(c+p)+h)/6*s,e+=(l+2*(f+d)+m)/6*s}b._lastTime=i,b._lastPosition=t,b._lastVelocity=e;var _=!(!b._overshootClamping||0===b._tension)&&(b._startPosition<b._to?t>b._to:t<b._to),v=Math.abs(e)<=b._restSpeedThreshold,g=0===b._tension||Math.abs(b._to-t)<=b._restDisplacementThreshold,y=_||v&&g;if(b.__active){if(y)return 0!==b._tension&&b._onUpdate(b._to),b.__debouncedOnEnd({finished:!0});b._onUpdate(t),b._animationFrame=w(b.onUpdate)}},b._overshootClamping=ot(t.overshootClamping,!1),b._restDisplacementThreshold=ot(t.restDisplacementThreshold,1e-4),b._restSpeedThreshold=ot(t.restSpeedThreshold,1e-4),b._initialVelocity=t.velocity,b._lastVelocity=ot(t.velocity,0),b._to=t.to;var e,n,r,i,o=(e=ot(t.tension,40),n=ot(t.friction,7),{tension:(i=e,3.62*(i-30)+194),friction:(r=n,3*(r-8)+25)});return b._tension=o.tension,b._friction=o.friction,b._delay=ot(t.delay,0),b}q(s,a);var t=s.prototype;return t.start=function(t,e,n,r){this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=e,this.__onEnd=n,this.__previous=r,0<this._delay?(this._timer&&(clearTimeout(this._timer),this._timer=void 0),this._timer=setTimeout(this.startAsync,this._delay)):this.startAsync()},t.getInternalState=function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}},t.stop=function(){this.__active=!1,clearTimeout(this._timeout),this._timeout=void 0,r(this._animationFrame),this.__debouncedOnEnd({finished:!1})},s}(it),st=function(n){function t(t){var e;return(e=n.call(this)||this)._values=t.map(function(t){return new B(t)}),e}q(t,n);var e=t.prototype;return e.setValue=function(t){var n=this;t.forEach(function(t,e){return n._values[e].setValue(t)})},e.__getValue=function(){return this._values.map(function(t){return t.__getValue()})},e.stopAnimation=function(t){this._values.forEach(function(t){return t.stopAnimation()}),t&&t(this.__getValue())},e.__attach=function(){for(var t=0;t<this._values.length;++t)this._values[t]instanceof L&&this._values[t].__addChild(this)},e.__detach=function(){for(var t=0;t<this._values.length;++t)this._values[t]instanceof L&&this._values[t].__removeChild(this)},t}(G);function ut(r,i,o){return void 0===o&&(o=at),t=r,n=ut,a=o,d=(e=i).to,h=E(e,["to"]),(t instanceof st?(s=t._values.map(function(t,e){return n(t,T({},h,{to:d[e]}),a)}),l=0,u={stopTogether:(c={},!1)},f=!(!1===u.stopTogether),p={start:function(r){if(l===s.length)return r&&r({finished:!0});s.forEach(function(t,e){var n=function(t){if(c[e]=!0,++l===s.length)return l=0,r&&r(t);!t.finished&&f&&p.stop()};t?t.start(n):n({finished:!0})})},stop:function(){s.forEach(function(t,e){!c[e]&&t.stop(),c[e]=!0})}}):null)||{start:function(t){var e=r,n=i;e.stopTracking(),i.to instanceof L?e.track(new N(e,i.to,o,n,t)):e.animate(new o(n),t)},stop:function(){r.stopAnimation()}};var t,e,n,a,s,u,l,c,f,p,d,h}var lt=function(n){function t(t){var e;return e=n.call(this)||this,!(t=t||{}).transform||t.transform instanceof L||(t=i.transform(t)),e._style=t,e}q(t,n);var e=t.prototype;return e.__getValue=function(){var t={};for(var e in this._style){var n=this._style[e];t[e]=n instanceof L?n.__getValue():n}return t},e.__getAnimatedValue=function(){var t={};for(var e in this._style){var n=this._style[e];n instanceof L&&(t[e]=n.__getAnimatedValue())}return t},e.__attach=function(){for(var t in this._style){var e=this._style[t];e instanceof L&&e.__addChild(this)}},e.__detach=function(){for(var t in this._style){var e=this._style[t];e instanceof L&&e.__removeChild(this)}},t}(G),ct=function(r){function t(t,e){var n;return n=r.call(this)||this,t.style&&(t=T({},t,{style:new lt(t.style)})),n._props=t,n._callback=e,n.__attach(),n}q(t,r);var e=t.prototype;return e.__getValue=function(){var t={};for(var e in this._props){var n=this._props[e];t[e]=n instanceof L?n.__getValue():n}return t},e.__getAnimatedValue=function(){var t={};for(var e in this._props){var n=this._props[e];n instanceof L&&(t[e]=n.__getAnimatedValue())}return t},e.__attach=function(){for(var t in this._props){var e=this._props[t];e instanceof L&&e.__addChild(this)}},e.__detach=function(){for(var t in this._props){var e=this._props[t];e instanceof L&&e.__removeChild(this)}},e.update=function(){this._callback()},t}(L);function ft(r){var n=function(t){function e(){return t.apply(this,arguments)||this}q(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this._propsAnimated&&this._propsAnimated.__detach()},n.setNativeProps=function(t){!1===i.fn(this.node,t,this)&&this.forceUpdate()},n.componentWillMount=function(){this.attachProps(this.props)},n.attachProps=function(t){var e=this,n=(t.forwardRef,E(t,["forwardRef"])),r=this._propsAnimated;this._propsAnimated=new ct(n,function(){e.node&&!1===i.fn(e.node,e._propsAnimated.__getAnimatedValue(),e)&&e.forceUpdate()}),r&&r.__detach()},n.componentWillReceiveProps=function(t){this.attachProps(t)},n.render=function(){var e=this,n=this.props.forwardRef,t=this._propsAnimated.__getValue();return _.createElement(r,T({},t,{ref:function(t){e.node=t,n&&n(t)}}))},e}(_.Component);return _.forwardRef(function(t,e){return _.createElement(n,T({},t,{forwardRef:e}))})}var pt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},dt=_.version.split(".");"production"!==process.env.NODE_ENV&&(dt[0]<16||dt[1]<4)&&console.warn("Please consider upgrading to react/react-dom 16.4.x or higher! Older React versions break getDerivedStateFromProps, see https://github.com/facebook/react/issues/12898");var ht=function(r){function t(){for(var s,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(s=r.call.apply(r,[this].concat(e))||this).state={lastProps:{from:{},to:{}},propsChanged:!1,internal:!1},s.didUpdate=!1,s.didInject=!1,s.updating=!1,s.animations={},s.interpolators={},s.start=function(){var t=s.props,i=t.config,o=t.delay,a=t.impl;s.props.onStart&&s.props.onStart(),Object.keys(s.animations).forEach(function(e){var t=s.animations[e],n=t.animation,r=t.toValue;if(!r.__getValue&&n.__getValue()===r)return s.finishAnimation(e);ut(n,T({to:r,delay:o},X(i,e)),a).start(!r.__getValue&&function(t){return t.finished&&s.finishAnimation(e)})})},s.stop=function(){return Y(s.animations).forEach(function(t){return t.animation.stopAnimation()})},s.finishAnimation=function(t){var e=s.animations[t];e.animation,e.toValue;if(s.animations[t].stopped=!0,s.mounted&&Y(s.animations).every(function(t){return t.stopped})){var n=T({},s.props.from,s.props.to);s.props.onRest&&s.props.onRest(n),s.didInject&&(s.afterInject=tt(s.props),s.didInject=!1,s.setState({internal:!0}))}},s}q(t,r);var e=t.prototype;return e.componentDidMount=function(){this.componentDidUpdate(),this.mounted=!0},e.componentWillUnmount=function(){this.mounted=!1,this.stop()},t.getDerivedStateFromProps=function(t,e){var n=e.internal,r=e.lastProps,i=t.from,o=t.to,a=t.reset,s=t.force;return{propsChanged:!K(o,r.to)||!K(i,r.from)||a&&!n||s&&!n,lastProps:t,internal:!1}},e.render=function(){var e=this,t=this.state.propsChanged;if(this.props.inject&&t&&!this.injectProps){var n=this.props.inject(this.props,function(t){e.injectProps=t,e.setState({internal:!0})});if(n)return n}this.injectProps?(this.updateAnimations(this.injectProps),this.injectProps=void 0,this.didInject=!0):t&&this.updateAnimations(this.props);var r=this.getAnimatedValues();return r&&Object.keys(r).length?Q(this.props,T({},r,this.afterInject)):null},e.componentDidUpdate=function(){this.didUpdate&&this.start(),this.didUpdate=!1},e.updateAnimations=function(t){var b=this,w=t.from,e=t.to,n=t.attach,k=t.reset,x=t.immediate,r=t.onFrame,i=t.native;this.updating=!0;var A=n&&n(this),P=!1,o=Object.entries(T({},w,e));if(this.animations=o.reduce(function(t,e,n){var r,i,o=e[0],a=e[1],s=!1===k&&t[o]||{stopped:!0},u="number"==typeof a,l="string"==typeof a&&!a.startsWith("#")&&!/\d/.test(a)&&!S[a],c=!u&&!l&&Array.isArray(a),f=void 0!==w[o]?w[o]:a,p=f instanceof B,d=u||c?a:l?a:1;if(A){var h=A.animations[o];h&&(d=h.animation)}var m,_,v=s.animation;if(p)m=_=f;else if(u||l)m=_=s.animation||new B(f);else if(c)m=_=s.animation||new st(f);else{var g=s.interpolation&&s.interpolation._interpolation(s.animation._value);s.animation?(m=s.animation).setValue(0):m=new B(0);var y={range:[0,1],output:[void 0!==g?g:f,a]};_=s.interpolation?s.interpolation.__update(y):m.interpolate(y)}return v!==m&&(P=!0),X(x,o)&&m.setValue(d),b.interpolators=T({},b.interpolators,((r={})[o]=_,r)),T({},t,((i={})[o]=T({},s,{name:o,animation:m,interpolation:_,toValue:d,stopped:!1}),i))},this.animations),P){var a=this.animatedProps;this.animatedProps=new ct(this.interpolators,function(){r&&r(b.animatedProps.__getValue()),i||b.updating||b.setState({internal:!0})}),a&&a.__detach()}this.didUpdate=!0,this.afterInject=void 0,this.didInject=!1,this.updating=!1},e.flush=function(){Y(this.animations).forEach(function(t){var e=t.animation;return e._update&&e._update()})},e.getValues=function(){return this.animatedProps?this.animatedProps.__getValue():{}},e.getAnimatedValues=function(){return this.props.native?this.interpolators:this.getValues()},t}(_.Component);ht.defaultProps={from:{},to:{},config:pt.default,native:!1,immediate:!1,reset:!1,force:!1,impl:at,inject:e};var mt=function(){return null},_t=function(t){var e=t.keys,n=t.children,r=t.render,i=t.items,o=E(t,["keys","children","render","items"]);return n=r||n||mt,e="function"==typeof e?i.map(e):e,Array.isArray(n)||(n=[n],e=void 0!==e?[e]:n.map(function(t){return t.toString()})),T({keys:e=e.map(function(t){return String(t)}),children:n,items:i},o)},vt=0,gt=function(e){q(n,e);var t=n.prototype;function n(t){var a;return(a=e.call(this,t)||this).destroyItem=function(i,o){return function(t){var e=a.props,n=e.onRest,r=e.onDestroyed;a.mounted&&(r&&r(i),a.setState(function(t){return{deleted:t.deleted.filter(function(t){return t.key!==o})}},function(){return delete a.springs[o]}),n&&n(i,t))}},a.springs={},a.state={first:!0,transitions:[],current:{},deleted:[],prevProps:t},a}return t.componentDidMount=function(){this.mounted=!0},t.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,e){var r=e.first,n=e.prevProps,i=E(e,["first","prevProps"]),o=_t(t),a=o.keys,s=o.children,u=o.items,l=o.initial,c=o.from,f=o.enter,p=o.leave,d=o.update,h=o.delay,m=_t(n),_=m.keys,v=m.items,g=T({},i.current),y=i.deleted.concat(),b=Object.keys(g),w=new Set(b),k=new Set(a),x=a.filter(function(t){return!w.has(t)}),A=b.filter(function(t){return!k.has(t)}),P=a.filter(function(t){return w.has(t)}),S=0;x.forEach(function(t){var e=a.indexOf(t),n=u?u[e]:t;g[t]={originalKey:t,children:s[e],key:vt++,item:n,from:T({},X(r&&void 0!==l?l:c,n)),to:X(f,n),delay:S+=h}}),A.forEach(function(t){var e=_.indexOf(t);y.push(T({destroyed:!0,lastSibling:_[Math.max(0,e-1)]},g[t],{delay:S+=h,to:T({},g[t].to,X(p,v?v[e]:t))})),delete g[t]}),P.forEach(function(t){var e=a.indexOf(t),n=u?u[e]:t;g[t]=T({},g[t],{delay:0,children:s[e],to:T({},g[t].to,X(d,n))})});var V=a.map(function(t){return g[t]});return y.forEach(function(t){var e=t.lastSibling,n=E(t,["lastSibling"]),r=Math.max(0,V.findIndex(function(t){return t.originalKey===e})+1);V=V.slice(0,r).concat([n],V.slice(r))}),{first:r&&0===x.length,transitions:V,current:g,deleted:y,prevProps:t}},t.getValues=function(){},t.render=function(){var u=this,t=this.props,l=t.render,e=t.initial,n=(t.from,t.enter,t.leave,t.native),r=void 0!==n&&n,c=(t.onDestroyed,t.keys,t.items,t.onFrame),f=t.onRest,p=(t.delay,T({native:r,initial:e},E(t,["render","initial","from","enter","leave","native","onDestroyed","keys","items","onFrame","onRest","delay"])));return this.state.transitions.map(function(t,e){var n=t.key,r=t.item,i=t.children,o=t.from,a=t.delay,s=E(t,["key","item","children","from","delay"]);return _.createElement(ht,T({ref:function(t){return t&&(u.springs[n]=t.getValues())},key:n,onRest:s.destroyed?u.destroyItem(r,n):f&&function(t){return f(r,t)},onFrame:c&&function(t){return c(r,t)},delay:a},s,p,{from:s.destroyed&&u.springs[n]||o,render:l&&i,children:l?u.props.children:i}))})},n}(_.PureComponent),yt=function(t){function e(){return t.apply(this,arguments)||this}q(e,t);var n=e.prototype;return n.getValues=function(){return this.instance&&this.instance.getValues()},n.componentDidMount=function(){this.instance&&this.instance.flush()},n.componentDidUpdate=function(){this.instance&&this.instance.flush()},n.render=function(){var n=this,t=this.props,i=t.children,o=t.render,e=t.from,r=void 0===e?{}:e,a=t.to,s=void 0===a?{}:a,u=t.native,l=void 0!==u&&u,c=t.keys,f=t.delay,p=t.onRest,d=E(t,["children","render","from","to","native","keys","delay","onRest"]),h=new Set,m=T({},d,{native:l,from:r,to:s});return(o||i).map(function(t,r){var e=0===r&&f;return _.createElement(ht,T({ref:function(t){return 0===r&&(n.instance=t)},onRest:0===r?p:null,key:c[r]},m,{delay:e||void 0,attach:function(t){return e=r,n=t,h.add(n),0===e?void 0:Array.from(h)[e-1];var e,n},render:o&&t,children:o?i:t}))})},e}(_.PureComponent),bt="__default",wt=function(i){function t(){for(var r,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(r=i.call.apply(i,[this].concat(e))||this).guid=0,r.state={props:{},oldProps:{},resolve:function(){return null}},r.next=function(n){return r.running=!0,new Promise(function(e){r.mounted&&r.setState(function(t){return{props:n,oldProps:T({},r.state.props),resolve:e}},function(){return r.running=!1})})},r}q(t,i);var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.componentDidUpdate({})},e.componentWillUnmount=function(){this.mounted=!1},e.componentDidUpdate=function(t){var e,u,l,c,f=this;(t.state!==this.props.state||this.props.reset&&!this.running)&&(e=f.props,u=e.states,l=e.filter,c=e.state,u&&c&&function(){var e=++f.guid,t=u[c];if(t)if(Array.isArray(t)){var n=Promise.resolve(),r=function(){if(o){if(a>=i.length)return"break";s=i[a++]}else{if((a=i.next()).done)return"break";s=a.value}var t=s;n=n.then(function(){return e===f.guid&&f.next(l(t))})},i=t,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if("break"===r())break}}else"function"==typeof t?t(function(t){return e===f.guid&&f.next(l(t))},f.props):f.next(l(u[c]))}())},e.render=function(){var e=this,t=this.state,n=t.props,r=t.oldProps,i=t.resolve,o=this.props,a=o.primitive,s=o.from,u=o.onRest,l=E(o,["primitive","from","onRest"]),c=this.instance&&this.instance.getValues(),f="function"==typeof n.from?n.from:T({},r.from,c,n.from);return n?_.createElement(a,T({ref:function(t){return e.instance=t}},l,n,{from:T({},f,s),onRest:function(t){i(t),u&&u(t)}})):null},t}(_.PureComponent);wt.defaultProps={state:bt},wt.create=function(r){return function(e,n){var t;return void 0===n&&(n=function(t){return t}),("function"==typeof e||Array.isArray(e))&&((t={})[bt]=e,e=t),function(t){return _.createElement(wt,T({primitive:r,states:e,filter:n},t))}}};var kt=function(r){var i=J(r),t=Object.keys(r).reduce(function(t,e){var n;return i[e]?t:T({},t,((n={})[e]=r[e],n))},{});return T({to:i},t)};wt.Spring=wt.create(ht),wt.Spring.to=function(t){return wt.Spring(t,kt)},wt.Trail=wt.create(yt),wt.Trail.to=function(t){return wt.Trail(t,kt)},wt.Transition=wt.create(gt);var xt=ft("div"),At=_.createContext(null),Pt=At.Provider,St=At.Consumer;function Vt(t){return t?"scrollLeft":"scrollTop"}var Et="translate3d(0px,0px,0px)",Tt="translate(0px,0px)",Ct=function(t){function e(){return t.apply(this,arguments)||this}q(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.parent;t&&(t.layers=t.layers.concat(this),t.update())},n.componentWillUnmount=function(){var e=this,t=this.parent;t&&(t.layers=t.layers.filter(function(t){return t!==e}),t.update())},n.setPosition=function(t,e,n){void 0===n&&(n=!1);var r=this.parent.props,i=r.config,o=r.impl,a=Math.floor(this.props.offset)*t,s=t*this.props.offset+a*this.props.speed,u=parseFloat(-e*this.props.speed+s);n?this.animatedTranslate.setValue(u):ut(this.animatedTranslate,T({to:u},i),o).start()},n.setHeight=function(t,e){void 0===e&&(e=!1);var n=this.parent.props,r=n.config,i=n.impl,o=parseFloat(t*this.props.factor);e?this.animatedSpace.setValue(o):ut(this.animatedSpace,T({to:o},r),i).start()},n.initialize=function(){var t=this.props,e=this.parent,n=Math.floor(t.offset)*e.space,r=e.space*t.offset+n*t.speed,i=parseFloat(-e.current*t.speed+r);this.animatedTranslate=new B(i),this.animatedSpace=new B(e.space*t.factor)},n.renderLayer=function(){var t,e=this.props,n=e.style,r=e.children,i=(e.offset,e.speed,e.factor,e.className),o=E(e,["style","children","offset","speed","factor","className"]),a=this.parent.props.horizontal,s=this.animatedTranslate.interpolate({range:[0,1],output:a?[Et,"translate3d(1px,0,0)"]:[Et,"translate3d(0,1px,0)"]});return _.createElement(xt,T({},o,{className:i,style:T((t={position:"absolute",backgroundSize:"auto",backgroundRepeat:"no-repeat",willChange:"transform"},t[a?"height":"width"]="100%",t[a?"width":"height"]=this.animatedSpace,t.WebkitTransform=s,t.MsTransform=s,t.transform=s,t),n)}),r)},n.render=function(){var e=this;return _.createElement(St,null,function(t){return t&&!e.parent&&(e.parent=t,e.initialize()),e.renderLayer()})},e}(_.PureComponent);Ct.defaultProps={factor:1,offset:0,speed:0};var Ot=function(r){function t(){for(var i,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(i=r.call.apply(r,[this].concat(e))||this).state={ready:!1},i.layers=[],i.space=0,i.current=0,i.offset=0,i.busy=!1,i.moveItems=function(){i.layers.forEach(function(t){return t.setPosition(i.space,i.current)}),i.busy=!1},i.scrollerRaf=function(){return requestAnimationFrame(i.moveItems)},i.onScroll=function(t){var e=i.props.horizontal;i.busy||(i.busy=!0,i.scrollerRaf(),i.current=t.target[Vt(e)])},i.update=function(){var t=i.props,e=t.scrolling,n=t.horizontal,r=Vt(n);i.container&&(i.space=i.container[n?"clientWidth":"clientHeight"],e?i.current=i.container[r]:i.container[r]=i.current=i.offset*i.space,i.content&&(i.content.style[n?"width":"height"]=i.space*i.props.pages+"px"),i.layers.forEach(function(t){t.setHeight(i.space,!0),t.setPosition(i.space,i.current,!0)}))},i.updateRaf=function(){requestAnimationFrame(i.update),setTimeout(i.update,150)},i.scrollStop=function(t){return i.animatedScroll&&i.animatedScroll.stopAnimation()},i}q(t,r);var e=t.prototype;return e.scrollTo=function(t){var e=this.props,n=e.horizontal,r=e.config,i=e.impl,o=Vt(n);this.scrollStop(),this.offset=t;var a=this.container;this.animatedScroll=new B(a[o]),this.animatedScroll.addListener(function(t){var e=t.value;return a[o]=e}),ut(this.animatedScroll,T({to:t*this.space},r),i).start()},e.componentDidMount=function(){window.addEventListener("resize",this.updateRaf,!1),this.update(),this.setState({ready:!0})},e.componentWillUnmount=function(){window.removeEventListener("resize",this.updateRaf,!1)},e.componentDidUpdate=function(){this.update()},e.render=function(){var t,e=this,n=this.props,r=n.style,i=n.innerStyle,o=n.pages,a=n.className,s=n.scrolling,u=n.children,l=n.horizontal,c=s?"scroll":"hidden";return _.createElement("div",{ref:function(t){return e.container=t},onScroll:this.onScroll,onWheel:s?this.scrollStop:null,onTouchStart:s?this.scrollStop:null,style:T({position:"absolute",width:"100%",height:"100%",overflow:c,overflowY:l?"hidden":c,overflowX:l?c:"hidden",WebkitOverflowScrolling:"touch",WebkitTransform:Tt,MsTransform:Tt,transform:Et},r),className:a},this.state.ready&&_.createElement("div",{ref:function(t){return e.content=t},style:T((t={position:"absolute"},t[l?"height":"width"]="100%",t.WebkitTransform=Tt,t.MsTransform=Tt,t.transform=Et,t.overflow="hidden",t[l?"width":"height"]=this.space*o,t),i)},_.createElement(Pt,{value:this},u)))},t}(_.PureComponent);Ot.Layer=Ct,Ot.defaultProps={config:pt.slow,scrolling:!0,horizontal:!1,impl:at};var jt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce(function(t,e){return t[e]=ft(e),t},ft);t.Spring=ht,t.Keyframes=wt,t.Transition=gt,t.Trail=yt,t.Parallax=Ot,t.ParallaxLayer=Ct,t.Animation=it,t.SpringAnimation=at,t.AnimatedValue=B,t.config=pt,t.animated=jt,t.controller=ut,t.interpolate=function(t,e){return new H(t,e)},t.Globals=l,Object.defineProperty(t,"__esModule",{value:!0})});
